---
title: "Working title: DuBois Challenge"
fomrat: pdf
execute: 
  warning: false
  message: false
editor: visual
editor_options: 
  chunk_output_type: console
---

\[ADD DISCLAIMER ABOUT ANTIQUATED LANGUAGE USED\]

## Introduction

In February 2021, Allen Hillery, Athony Starks, and Sekou Tyler, started the #DuboisChallenge, and annual online challenge where participants use modern data visualization tools such as R, Python, and Tableau, among others, to recreate the data visualizations in W.E.B. Du Bois's 1900 Paris exhibition *Exposition des Nègres d'Amérique* (*The Exhibit of American Negroes*).
The seven-week challenge included 10 out of the over 60 visualizations in the original exhibit.
Each week, participants were tasked with recreating one of the visualizations and there were three "bonus" visualization challenges.
People used social media to share their recreations side-by-side with the originals using the tag #DuBoisChallenge, and many shared the code they used for the recreation.
The challenge took place again in February 2022 and it was featured in 2021 and 2022 as part of RStudio's weekly online data visualization event, TidyTuesday.

Many instructors in statistics and data science courses present the historical work of Florence Nightingale, a pioneer of data visualization, as early examples of visually presenting data in a compelling way.
Less often presented, however, is the work of W.E.B. Du Bois, a sociologist, author, and activist, who used data visualizations to share the lived experience of African Americans in the late 19th and early 20th centuries.
Though not a statistician by training, the influence of his work can still be seen in the visualizations produced by the statistics and data science communities today.
As the statistics community (and STEM more broadly) strives to increase representation by people in historically marginalized groups, there is an opportunity to share and celebrate the historical work of pioneers like W.E.B. Du Bois in the classroom.

In this column we present examples of activities for the classroom that are inspired by the #DuBoisChallenge.
We begin with a brief history of the 1900 Paris exhibit.
Then we present two activities for introductory-level students based on the visualization "Proportion of Total Negro Children of School Age Who Are Enrolled in the Public Schools." We walk through these activities in detail, sharing discussion questions as students interpret the graph along with guidance to lead students through recreating the visualization.
Next we present examples of two more recreation activities that can be used as a follow-up to the first or for students in more advanced-level data visualization courses.
All of the activities are presented using `ggplot2` in R; however, the came concepts could be applied to recreate the visualizations using other software.

The data for the visualization and R code to recreate the visualizations presented in this column are available in the GitHub repository at [bit.ly/taking-a-chance](http://bit.ly/taking-a-chance) .

## A Brief History 

-   Brief history of Du Bois

    -   Who he was and his primary work

    -   His contribution to data visualization.
        Visualizations are hand drawn, a variety of types and also give a view into the domestic life of African Americans in the late 1800s and early 1900s.

    -   Discuss visualizations in the 1900 exhibit.

## Activity 1

## Activity 2

## Extension 

-   By this point students are learned about creating and interpreting visualizations in ggplot2 along with some data wrangling. This activity could come towards the beginning of the term after these topics have been taught (may require more guidance to help students) or at the end of the term when students are very familiar with using R.

![Source: https://raw.githubusercontent.com/ajstarks/dubois-data-portraits/master/challenge/challenge05/original-plate-31.jpg (find LOC source)](img/income-expenditures-orig.jpeg)

<!--# Find Library of Congress citation. -->

<!--# https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-02-16/readme.md-->

### Recreation

```{r}
#| echo: false
#| fig-width: 10

library(tidyverse)
library(scales)
library(showtext)

showtext_auto()

# Style guide: https://github.com/ajstarks/dubois-data-portraits/blob/master/dubois-style.pdff
font_add_google("Big Shoulders Display", "shoulders")
income_wide <- read_csv(here::here("2023-02-dubois-challenge", "data/income.csv")) |>
  rename(class = Class,
         average_income = Actual_Average)

# reformat data-----------------------------------------------------------------
income_long <- income_wide |>
  pivot_longer(cols = -c(class, average_income),
               names_to = "expenditure",
               values_to = "percentage")

#order expenditure categories-----------------------------------------
# ensures the categories are in the same order as original in the plot
income_long <- income_long |>
  mutate(expenditure = factor(expenditure, levels = c("Other", "Tax", "Clothes",
                                         "Food", "Rent")),
         percent_label = if_else(percentage < 1, "", paste0(percentage, "%")),
         class_income = paste(class, paste0("$", average_income), sep = " | "),
         class_income = factor(class_income, levels = c("$100-200 | $139.1",
                                                        "$200-300 | $249.45",
                                                        "$300-400 | $335.66",
                                                        "$400-500 | $433.82",
                                                        "$500-750 | $547",
                                                        "$750-1000 | $880",
                                                        "$1000 AND OVER | $1125"))
  )

# full code---------------------------------------------------------------------
ggplot(data = income_long, aes(x = class_income, y = percentage, fill = expenditure)) +
  geom_col(color = "black", size = 0.25, alpha = 0.6, position = "stack", width  = 0.5) +
  labs(x = "",
       y = "",
       fill = "",
       title = "INCOME AND EXPENDITURE OF 150 NEGRO FAMILIES IN ATLANTA, GA, U.S.A") +
  scale_fill_manual(labels = c("RENT.", "FOOD.", "CLOTHES.", "DIRECT TAXES.", "OTHER EXPENSES AND SAVINGS."),
                    values = c("Rent" = "#000000", "Food" = "#b19cd9",
                               "Clothes" = "#ffc0cb", "Tax" = "#4682B4",
                               "Other" = "#E9E9E9")) +
  coord_flip() +
  scale_x_discrete(limits = rev) +
  geom_text(aes(label = percent_label, color = expenditure == "Rent"),
            position = position_stack(0.5),
            family = "shoulders",
            size = 4,
            fontface = "bold"
  ) +
  scale_color_manual(values = c("black", "white"))+
  guides(color = "none") +
  theme_void() +
  theme(legend.position = "top",
        axis.text.y  = element_text(hjust = 0.5, family = "shoulders"),
        plot.title = element_text(family = "shoulders", size = 20),
        plot.background = element_rect(fill = "#e4d2c1"))
```

## Conclusion

## Further reading

-   Du Bois TidyTuesday

    -   2022: https://github.com/rfordatascience/tidytuesday/blob/master/data/2022/2022-02-15/readme.md

    -   2021 (tweets from the challenge): https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-06-15/readme.md

-   Du Bois data portraits repo: https://github.com/ajstarks/dubois-data-portraits/tree/master/challenge/2022

-   Anthony Starks presentation on recreating the images: https://speakerdeck.com/ajstarks/recreating-the-dubois-data-portraits?

-   W.E.B. Du Bois Data Visualization book
